<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Ecommerce</title>
</head>
<body>

    <script>

    // Criar uma class chamada Ecommerce e product para conter os dados de cada produto:

    class Product {
    constructor(name, price, id) {
        this.name = name;
        this.price = price;
        this.id = id;
    }
}

    class Ecommerce {
        constructor() {
            this.products = [];
            this.cart = [];
        }


    // criar método addProduct: aceita um produto e o adicione à lista de produtos;

    addProduct(name, price, id) {
        const newProduct = new Product(name, price, id);
        this.products.push(newProduct);
    }


    // setProductPrice:
    // Aceita 2 parametros: productId e price;
    // Deve actualizar o produto com o preço novo.
    setProductPrice(productId, newPrice) {
        const product = this.products.find(product => product.id === productId);

        if (product) {
            product.price = newPrice;
            return `Preço do produto ${product.name} atualizado para ${newPrice}`;
        } else {
            return `Produto com ID ${productId} não encontrado.`;
        }
    }
    

    // getAllProducts: devolve a lista de todos os produtos;
    getAllProducts() {
        return this.products.filter(product => product.name).join(';');
    }

    // getAllProductsNames: devolve uma string com todos os nomes dos produtos, separados por ponto e virgula “;” ;
    getAllProductsNames() {
        return this.products.map(product => product.name).join(';');
    }

    // getProductById: aceita um id de produto e devolve esse mesmo produto;
    getProductById(id) {
        return this.products.find(product => product.id === id);
    }

    // getProductByName: aceita um nome de produto e devolve esse mesmo produto;
    getProductByName(name) {
        return this.products.find(product => product.name === name);
    }

    // getProductsByPrice:
        // aceita 2 parametros: initialPrice e finalPrice
        // Devolve os produtos que sejam iguais ou superiors a initialPrice e menores ou igual a finalPrice;
    getProductsByPrice(initialPrice, finalPrice) {
        return this.products.filter(product => product.price >= initialPrice && product.price <= finalPrice);
    }

    // addProductToCart: aceita um produto e adiciona esse produto ao carrinho de compras;
    addProductToCart(product) {
        this.cart.push(product);
    }


    // getCart: devolve a lista de produtos do carrinho de compras;
    getCart() {
        return this.cart.map(product => `${product.name} - ${product.price}`).join(';');
    }

    // getCartTotalPrice: devolve a soma de todos os produtos do carrinho;
    getCartTotalPrice() {
        return this.cart.reduce((total, product) => total + product.price, 0);
    }
}

    </script>
    
</body>
</html>